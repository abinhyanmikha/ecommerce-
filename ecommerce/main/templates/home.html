{% extends 'base.html' %} 

{% block content %}
<div class="home-hero" style="text-align: center; padding: 4rem 0;">
    <h1 style="font-family: 'Outfit', sans-serif; font-size: 3.5rem; margin-bottom: 1rem;">Experience the Future of <span style="color: var(--primary);">Shopping</span></h1>
    <p style="color: var(--text-muted); font-size: 1.2rem; max-width: 700px; margin: 0 auto 3rem;">Discover our curated collection of premium products designed for the contemporary lifestyle.</p>
</div>

<div class="products-section">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
        <h2 style="font-family: 'Outfit', sans-serif;">Featured Collection</h2>
        <a href="#" style="color: var(--primary); text-decoration: none; font-weight: 600;">View All <i class="fas fa-chevron-right"></i></a>
    </div>

    <div class="products">
        {% for p in products %}
            <div class="card">
                <div class="card-img-wrapper" style="position: relative; overflow: hidden; border-radius: 12px; margin-bottom: 1.5rem;">
                    {% if p.image %}
                        <img src="{{ p.image.url }}" alt="{{ p.name }}" style="width: 100%; transition: transform 0.5s ease;">
                    {% else %}
                        <div style="height: 200px; background: #1e293b; display: flex; align-items: center; justify-content: center; color: var(--text-muted); border-radius: 12px;">
                            <i class="fas fa-image fa-3x"></i>
                        </div>
                    {% endif %}
                    <div class="card-overlay" style="position: absolute; bottom: 0; left: 0; right: 0; padding: 1rem; background: linear-gradient(transparent, rgba(0,0,0,0.8)); opacity: 0; transition: opacity 0.3s ease;">
                        <a href="{% url 'product_detail' p.id %}" style="color: white; text-decoration: none; font-size: 0.9rem; font-weight: 600;">Quick View</a>
                    </div>
                </div>
                
                <h3 style="margin-bottom: 0.5rem; font-size: 1.25rem;">{{ p.name }}</h3>
                <p style="color: var(--text-muted); font-size: 0.9rem; margin-bottom: 1.5rem;">{{ p.description|truncatewords:10 }}</p>
                
                <div style="display: flex; justify-content: space-between; align-items: center; margin-top: auto;">
                    <div style="display: flex; flex-direction: column;">
                        <span class="item-price" style="font-size: 1.2rem; font-weight: 700; color: var(--secondary);">Rs. {{ p.price }}</span>
                        <span class="{% if p.stock > 0 %}text-stock{% else %}text-out{% endif %}" style="font-size: 0.75rem;">
                            {% if p.stock > 0 %}{{ p.stock }} in stock{% else %}Out of Stock{% endif %}
                        </span>
                    </div>
                    {% if p.stock > 0 %}
                        <a href="{% url 'add_to_cart' p.id %}" class="btn-primary" style="padding: 0.5rem 1rem; border-radius: 10px; font-size: 0.9rem;">
                            <i class="fas fa-cart-plus"></i> Add
                        </a>
                    {% else %}
                        <button class="btn-primary btn-disabled" style="padding: 0.5rem 1rem; border-radius: 10px; font-size: 0.9rem;" disabled>
                            <i class="fas fa-ban"></i>
                        </button>
                    {% endif %}
                </div>
            </div>
        {% endfor %}
    </div>
</div>

<style>
    .card:hover .card-img-wrapper img {
        transform: scale(1.1);
    }
    .card:hover .card-overlay {
        opacity: 1;
    }
</style>
{% endblock %}
